Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN'),
team_color = team_color2,
team_color
)
)
colors %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN'),
team_color = team_color2,
team_color
)
)
colors %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN'),
team_color2,
team_color
)
)
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN'),
team_color2,
team_color
)
)
dens=left_join(dens,colors,on='Team')
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = unique(dens$team_color2)) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = unique(dens$team_color)) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
View(colors)
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN','GB'),
team_color2,
team_color
)
)
dens=left_join(dens,colors,on='Team')
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = unique(dens$team_color)) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
View(colors)
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN','GB','LV'),
team_color2,
team_color
)
)
dens=left_join(dens,colors,on='Team')
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = unique(dens$team_color)) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN','GB','LV'),
team_color2,
team_color
)
)
dens=left_join(dens,colors,on='Team')
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = unique(dens$team_color)) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
View(colors)
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN','GB','PIT'),
team_color2,
team_color
)
)
dens=left_join(dens,colors,on='Team')
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = unique(dens$team_color)) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
View(colors)
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_color3,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN','GB','PIT'),
team_color2,
team_color
)
)
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_color3,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN','GB','LV'),
team_color2,
team_color),
team_abbr = if_else(
Team %in% c('PIT'),
team_color3,
team_color
)
)
View(colors)
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_color3,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN','GB','PIT'),
team_color2,
team_color),
team_color = if_else(
Team %in% c('PIT'),
team_color3,
team_color
)
)
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_color3,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN','GB','PIT'),
team_color2,
team_color),
team_color = if_else(
Team %in% c('PIT','CIN'),
team_color3,
team_color
)
)
dens=left_join(dens,colors,on='Team')
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = unique(dens$team_color)) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_color3,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN','GB','PIT'),
team_color2,
team_color),
team_color = if_else(
Team %in% c('PIT','CLE'),
team_color3,
team_color
)
)
dens=left_join(dens,colors,on='Team')
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = unique(dens$team_color)) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_color3,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN','GB','PIT'),
team_color2,
team_color),
team_color = if_else(
Team %in% c('PIT','CLE','DEN'),
team_color3,
team_color
)
)
View(colors)
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_color3,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN','GB','PIT'),
team_color2,
team_color),
team_color = if_else(
Team %in% c('PIT','CLE','DEN','NE'),
team_color3,
team_color
)
)
dens=left_join(dens,colors,on='Team')
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = unique(dens$team_color)) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_color3,team_logo_espn) %>% rename(Team=team_abbr) %>%
mutate(
team_color = if_else(
Team %in% c('CIN','JAX','DEN','LA','LAC','LAR','NE','SD','SEA','STL','TEN','GB','PIT','LV'),
team_color2,
team_color),
team_color = if_else(
Team %in% c('PIT','CLE','DEN','NE'),
team_color3,
team_color
)
)
dens=left_join(dens,colors,on='Team')
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = unique(dens$team_color)) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color,team_color2,team_color3,team_logo_espn) %>% rename(Team=team_abbr) #%>%
dens=left_join(dens,colors,on='Team')
dens
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color) %>% rename(Team=team_abbr) #%>%
dens=left_join(dens,colors,on='Team')
dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
)
colors = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
)
color_lst = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
)
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = color_lst) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
color_lst = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
) %>% ungroup()
color_lst
color_lst = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
) %>% ungroup() %>% select(team_color)
color_lst
color_lst = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
) %>% ungroup() %>% select(team_color) %>% as.vector()
color_lst
color_lst = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
) %>% ungroup() %>% select(team_color) %>% as.vector()
dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
) %>% ungroup() %>% select(team_color) %>% as.vector()
color_lst = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
) %>% ungroup() %>% select(team_color)
as.vector(color_lst)
color_lst = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
) %>% ungroup() %>% select(team_color)
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = color_lst) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
color_lst = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
) %>% ungroup()
as.vector(color_lst['team_color'])
color_lst=as.vector(color_lst['team_color'])
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = color_lst) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
color_lst = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
) %>% ungroup()
color_lst['team_color']
plyr::pull(color_lst, 'team_color')
pull(color_lst, 'team_color')
color_lst = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
) %>% ungroup() %>%  pull('team_color')
color_lst
#ch=colors %>% group_by(team_color) %>% summarise(team = unique(Team))
#dens %>%
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = color_lst) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
results = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/SummaryResults/2010_5.csv")
results%>%
arrange(AdjWEPADiff)%>%
ggplot(aes(x=factor(Team, level = Team),AdjWEPADiff )) +
geom_linerange(alpha = .7, color = 'gray40', linetype = 2,aes(ymin=LowerCI85,
ymax=UpperCI85))+
geom_point(aes(fill = AdjWEPADiff),alpha = 1, color='gray20',pch=21,size=2.75) +
geom_text(aes(label = round(AdjWEPADiff,1),y=AdjWEPADiff+.75),nudge_x = 0.4,size=2.7,alpha=0.5)  +
coord_flip() +
theme_classic()  +
theme(
axis.title.y = element_blank(),
plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5),
legend.position = 'none'
) + scale_x_discrete(expand = c(.04,.04))
dens = read.csv("C:/Users/adria/OneDrive/Documents/GitHub/PowerRankNFL/PowerRankingModeling/OutputData/BootstrappedEstimates/2010_3.csv")
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color) %>% rename(Team=team_abbr) #%>%
dens=left_join(dens,colors,on='Team')
color_lst = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
) %>% ungroup() %>%  pull('team_color')
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = color_lst) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
setwd("~/GitHub/PowerRankNFL")
setwd("~/GitHub/PowerRankNFL")
szn = 2010
wk = 3
results = read.csv("/PowerRankingModeling/OutputData/SummaryResults/",szn,"_",wk,".csv")
read.csv("/PowerRankingModeling/OutputData/SummaryResults/",szn,"_",wk,".csv"
results = read.csv(paste0("/PowerRankingModeling/OutputData/SummaryResults/",szn,"_",wk,".csv"))
szn = 2010
wk = 3
paste0("/PowerRankingModeling/OutputData/SummaryResults/",szn,"_",wk,".csv")
results = read.csv(paste0("/PowerRankingModeling/OutputData/SummaryResults/",szn,"_",wk,".csv"))
results = read.csv(paste0("PowerRankingModeling/OutputData/SummaryResults/",szn,"_",wk,".csv"))
results
summary = read.csv(paste0("PowerRankingModeling/OutputData/SummaryResults/",szn,"_",wk,".csv"))
summary %>%
arrange(AdjWEPADiff)%>%
ggplot(aes(x=factor(Team, level = Team),AdjWEPADiff )) +
geom_linerange(alpha = .7, color = 'gray40', linetype = 2,aes(ymin=LowerCI85,
ymax=UpperCI85))+
geom_point(aes(fill = AdjWEPADiff),alpha = 1, color='gray20',pch=21,size=2.75) +
geom_text(aes(label = round(AdjWEPADiff,1),y=AdjWEPADiff+.75),nudge_x = 0.4,size=2.7,alpha=0.5)  +
coord_flip() +
theme_classic()  +
theme(
axis.title.y = element_blank(),
plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5),
legend.position = 'none'
) + scale_x_discrete(expand = c(.04,.04))
dens = read.csv(paste0("PowerRankingModeling/OutputData/BootstrappedEstimates/",szn,"_",wk,".csv"))
dens
colors=nflfastR::teams_colors_logos %>% select(team_abbr,team_color) %>% rename(Team=team_abbr) #%>%
dens=left_join(dens,colors,on='Team')
color_lst = dens %>% group_by(
Team
) %>% summarise(
team_color = unique(team_color)
) %>% ungroup() %>%  pull('team_color')
dens %>% ggplot(aes(x=AdjWEPADiff)) +
geom_density(aes(fill=Team),alpha=.6) +
scale_fill_manual(
values = color_lst) +
theme_classic() +
theme(
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)+ ylim(c(0,.17))
